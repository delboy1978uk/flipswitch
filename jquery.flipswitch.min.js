(function(a){a.fn.extend({flipSwitch:function(b){var c={animSpeed:120,hoverSpeed:100,switchImg:"/js/flipswitch/img/switch.png",switchImgCover:"/js/flipswitch/img/switchplate.png",switchImgCoverWidth:"63px",switchImgCoverHeight:"18px",disabledImg:"/js/flipswitch/img/disabled.png",onShift:"0px 0px",offShift:"-37px 0px",peekOff:"-6px 0px",peekOn:"-31px 0px"};var b=a.extend(c,b);return this.each(function(){var f=b;var e=a(this);if(a(this).attr("disabled")){a(this).css({display:"none"}).after('<span><img src="'+f.disabledImg+'" /></span>')}else{a(this).css({display:"none"}).after('<span class="switch"><img style="vertical-align: top;" src="'+f.switchImgCover+'" width="'+f.switchImgCoverWidth+'" height="'+f.switchImgCoverHeight+'" /></span>')}a(this).next("span.switch").css({display:"inline-block","background-image":'url("'+f.switchImg+'")',"background-repeat":"no-repeat",overflow:"hidden",cursor:"pointer","margin-right":"2px"});a(this).next("span.switch").click(function(){if(a(this).prev().is(":radio")){radioGroupName=a(this).prev().attr("name");a('input[name="'+radioGroupName+'"]:checked + span').stop().animate({backgroundPosition:f.offShift},f.animSpeed)}if(a(this).prev().is(":checked")){a(this).stop().animate({backgroundPosition:f.offShift},f.animSpeed);a(this).prev("input").prop("checked",false)}else{a(this).stop().animate({backgroundPosition:f.onShift},f.animSpeed);if(a(this).prev().is(":radio")){a('input[name="'+radioGroupName+'"]:checked').prop("checked",false)}a(this).prev().prop("checked",true)}});a(this).next().hover(function(){var g=a(this).prev().is(":checked")?f.peekOff:f.peekOn;a(this).stop().animate({backgroundPosition:g},f.hoverSpeed)},function(){var g=a(this).prev().is(":checked")?f.onShift:f.offShift;a(this).stop().animate({backgroundPosition:g},f.hoverSpeed)});var d=a(this).is(":checked")?f.onShift:f.offShift;a(this).next("span.switch").css({backgroundPosition:d});a(document).on("click","input + span",function(){return false});a(this).change(function(){radioGroupName=a(this).attr("name");if(a(this).is(":radio")){a(this).stop().animate({backgroundPosition:f.onShift},f.animSpeed);a('input[name="'+radioGroupName+'"] + span').stop().animate({backgroundPosition:f.offShift},f.animSpeed)}var g=a(this).is(":checked")?f.onShift:f.offShift;a(this).next("span").stop().animate({backgroundPosition:g},f.animSpeed)})})}})})(jQuery);(function(e){var d=!!e.Tween;if(d){e.Tween.propHooks.backgroundPosition={get:function(f){return b(e(f.elem).css(f.prop))},set:c}}else{e.fx.step.backgroundPosition=c}function b(h){var i=(h||"").split(/ /);var f={center:"50%",left:"0%",right:"100%",top:"0%",bottom:"100%"};var g=function(j){var k=(f[i[j]]||i[j]||"50%").match(/^([+-]=)?([+-]?\d+(\.\d*)?)(.*)$/);i[j]=[k[1],parseFloat(k[2]),k[4]||"px"]};if(i.length==1&&e.inArray(i[0],["top","bottom"])>-1){i[1]=i[0];i[0]="50%"}g(0);g(1);return i}function c(f){if(!f.set){a(f)}e(f.elem).css("background-position",((f.pos*(f.end[0][1]-f.start[0][1])+f.start[0][1])+f.end[0][2])+" "+((f.pos*(f.end[1][1]-f.start[1][1])+f.start[1][1])+f.end[1][2]))}function a(g){g.start=b(e(g.elem).css("backgroundPosition"));g.end=b(g.end);for(var f=0;f<g.end.length;f++){if(g.end[f][0]){g.end[f][1]=g.start[f][1]+(g.end[f][0]=="-="?-1:+1)*g.end[f][1]}}g.set=true}})(jQuery);